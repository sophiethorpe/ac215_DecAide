(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[33],{3674:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var n=r(9127);function a(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(e){r(e);return}s.done?t(c):Promise.resolve(c).then(n,a)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function s(e){a(o,n,i,s,c,"next",e)}function c(e){a(o,n,i,s,c,"throw",e)}s(void 0)})}}var o=r(4756),s=r.n(o),c=r(6540),l=r(1106),p=r.n(l);let d={src:"/_next/static/media/favicon.8bffae34.ico",height:16,width:16,blurWidth:0,blurHeight:0};var u=r(4848);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let h=function(){var e,t,r,n=(0,c.useState)(null),a=n[0],o=n[1],l=(0,c.useState)(null),f=l[0],h=l[1],g=(0,c.useState)(null),b=g[0],y=g[1],m=(0,c.useState)(!1),j=m[0],v=m[1],w=(0,c.useState)(!1),k=w[0],O=w[1],P=(0,c.useState)(null),S=P[0],E=P[1],_=(0,c.useState)(null),C=_[0],T=_[1],D="#71a2c1",A="#f3f3eb",F={fontFamily:"Garamond, serif",color:"#5b5567",fontSize:"20px"},R={flex:"1 1 300px",border:"1px solid #ddd",borderRadius:"8px",padding:"20px",background:A,boxShadow:"0 2px 5px rgba(0, 0, 0, 0.1)"},G={fontFamily:"Garamond, serif",color:A,fontSize:"20px",marginTop:"10px",padding:"10px 20px",border:"none",borderRadius:"4px",backgroundColor:"#949a89",cursor:"pointer",boxShadow:"4px 3px 5px rgba(0, 0, 0, 0.1)"},N={fontFamily:"Garamond, serif",color:A,fontSize:"36px",textAlign:"center",textDecoration:"none",margin:"0 30px"};(0,c.useEffect)(function(){var e=document.querySelector("link[rel='icon']");e&&(e.href=d)},[]);var z=(e=i(s().mark(function e(){var t,r;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=3;break}return alert("Please upload a file before submitting!"),e.abrupt("return");case 3:return v(!0),h(null),(t=new FormData).append("file",a),e.prev=7,e.next=10,fetch("http://localhost:9000/predict",{method:"POST",body:t});case 10:if((r=e.sent).ok){e.next=13;break}throw Error("Failed to fetch prediction");case 13:return e.next=15,r.json();case 15:h(e.sent.predicted_class),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(7),alert("Error: "+e.t0.message);case 22:return e.prev=22,v(!1),e.finish(22);case 25:case"end":return e.stop()}},e,null,[[7,19,22,25]])})),function(){return e.apply(this,arguments)}),L=(t=i(s().mark(function e(){var t,r;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=3;break}return alert("Please upload a file before submitting!"),e.abrupt("return");case 3:return O(!0),y(null),(t=new FormData).append("file",a),e.prev=7,e.next=10,fetch("http://localhost:9000/generate-caption",{method:"POST",body:t});case 10:if((r=e.sent).ok){e.next=13;break}throw Error("Failed to generate caption");case 13:return e.next=15,r.json();case 15:y(e.sent.caption),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(7),alert("Error: "+e.t0.message);case 22:return e.prev=22,O(!1),e.finish(22);case 25:case"end":return e.stop()}},e,null,[[7,19,22,25]])})),function(){return t.apply(this,arguments)}),U=(r=i(s().mark(function e(){var t;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:9000/debug",{method:"GET"});case 3:if((t=e.sent).ok){e.next=6;break}throw Error("Failed to fetch debug message");case 6:return e.next=8,t.json();case 8:T(e.sent.message),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),alert("Error: "+e.t0.message);case 15:case"end":return e.stop()}},e,null,[[0,12]])})),function(){return r.apply(this,arguments)});return(0,u.jsxs)("div",{style:{display:"flex",flexDirection:"column",minHeight:"100vh",backgroundColor:"#f8f2dc",color:"#333"},children:[(0,u.jsxs)("header",{style:{background:D,color:"#fff",padding:"10px 20px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,u.jsx)("img",{src:"/logo_decaide-removebg-preview.png",alt:"Logo",style:{height:"150px",marginLeft:"20px",marginRight:"auto",display:"inline-block"}}),(0,u.jsxs)("nav",{style:{background:D,color:"#fff",padding:"10px 20px",display:"flex",justifyContent:"space-between",alignItems:"center",marginRight:"20px"},children:[(0,u.jsx)(p(),{href:"/",style:N,children:"Home"}),(0,u.jsx)(p(),{href:"/App",style:N,children:"App"}),(0,u.jsx)(p(),{href:"/about",style:N,children:"About"})]})]}),(0,u.jsx)("main",{style:{flex:"1",padding:"40px 20px"},children:(0,u.jsxs)("div",{style:{display:"flex",gap:"20px",justifyContent:"space-around",flexWrap:"wrap"},children:[(0,u.jsxs)("section",{style:R,children:[(0,u.jsx)("h3",{style:F,children:"1. Upload an image here:"}),(0,u.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0];if(t&&!t.type.startsWith("image/")){alert("Please upload a valid image file.");return}E(URL.createObjectURL(t)),o(t)},style:{marginTop:"10px",padding:"5px",border:"1px solid #ccc",borderRadius:"4px",width:"100%"}}),S&&(0,u.jsx)("img",{src:S,alt:"Uploaded",style:{marginTop:"20px",maxWidth:"100%"}})]}),(0,u.jsxs)("section",{style:R,children:[(0,u.jsx)("h3",{style:F,children:"2. Predict the year:"}),(0,u.jsx)("button",{onClick:z,disabled:j,style:G,children:j?"Predicting...":"Predict Year"}),f&&(0,u.jsxs)("h2",{style:x({marginTop:"40px"},F),children:["Trendy in ",f,"."]})]}),(0,u.jsxs)("section",{style:R,children:[(0,u.jsx)("h3",{style:F,children:"3. Generate a caption:"}),(0,u.jsx)("button",{onClick:L,disabled:k,style:G,children:k?"Generating Caption...":"Generate Caption"}),b&&(0,u.jsx)("p",{style:x({marginTop:"40px"},F),children:b})]})]})}),(0,u.jsxs)("div",{style:{textAlign:"center",margin:"20px 0 40px 0"},children:[(0,u.jsx)("h3",{children:"Debug"}),(0,u.jsx)("button",{onClick:U,style:G,children:"Fetch Debug Message"}),C&&(0,u.jsx)("p",{style:{marginTop:"10px"},children:C})]}),(0,u.jsx)("footer",{style:{background:D,color:"#fff",padding:"10px 0",textAlign:"center",marginTop:"auto"},children:(0,u.jsx)("p",{style:{fontFamily:"Garamond, serif",color:A,fontSize:"20px"},children:"\xa9 2024 DecAide. All Rights Reserved."})})]})}},5292:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/App",function(){return r(3674)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[106,636,593,792],()=>t(5292)),_N_E=e.O()}]);